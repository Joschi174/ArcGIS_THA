import {
  c as c2
} from "./chunk-X446CPEU.js";
import {
  c
} from "./chunk-UQH37OH4.js";
import {
  O
} from "./chunk-VCOABNMG.js";
import "./chunk-HJI3BY6O.js";
import "./chunk-WDH5YZUJ.js";
import "./chunk-5NTMYKFL.js";
import {
  b
} from "./chunk-ZZC3B6AH.js";
import {
  n,
  t
} from "./chunk-DSRRGXQP.js";
import "./chunk-6WLIVBPN.js";
import {
  h
} from "./chunk-7XK4IPKN.js";
import "./chunk-3S6PFVBD.js";
import "./chunk-A7HIXRLM.js";
import {
  e as e2,
  o
} from "./chunk-KZ7KT6JL.js";
import "./chunk-PSEOYXGU.js";
import {
  ln
} from "./chunk-Y2UHC2VM.js";
import "./chunk-7APSGFF5.js";
import "./chunk-S5RFXGTW.js";
import "./chunk-6PE6O23W.js";
import {
  s as s2
} from "./chunk-KQYZ7H7W.js";
import "./chunk-3HEHFNVB.js";
import {
  V
} from "./chunk-Z3LDBFKX.js";
import "./chunk-A4SZU67B.js";
import {
  l as l2
} from "./chunk-V2A2K5J6.js";
import "./chunk-VEIPKRDL.js";
import "./chunk-2T74GJVJ.js";
import "./chunk-6VWXQUWW.js";
import "./chunk-WNCSTS7O.js";
import "./chunk-JU2JBJRJ.js";
import "./chunk-CBBETCDS.js";
import "./chunk-D3IA7B5F.js";
import "./chunk-RKDN5PXO.js";
import "./chunk-UILB2BFY.js";
import {
  M
} from "./chunk-U4PYQFWE.js";
import {
  x2 as x
} from "./chunk-FNONMLXB.js";
import "./chunk-7KNADJUA.js";
import {
  r
} from "./chunk-NMXESCE4.js";
import {
  u2 as u
} from "./chunk-O6HKLIZS.js";
import {
  l,
  w
} from "./chunk-FQMVGWVJ.js";
import "./chunk-VXRBE6UP.js";
import "./chunk-YJ7LTVO5.js";
import "./chunk-DNUHV7J4.js";
import {
  s
} from "./chunk-RRCNLKGG.js";
import "./chunk-RJHZ4FSH.js";
import {
  y
} from "./chunk-DUGCD7YI.js";
import {
  a2
} from "./chunk-3CMERT4A.js";
import {
  e
} from "./chunk-ZQWMLUHC.js";
import "./chunk-G5A25MBN.js";
import {
  T,
  a
} from "./chunk-7LFT2RDJ.js";
import "./chunk-QPWNDO2C.js";
import "./chunk-CA2PXGXL.js";
import "./chunk-RXTTOJU7.js";
import "./chunk-4HAMAX2C.js";
import "./chunk-3QT5L2OK.js";
import "./chunk-5QASCMFT.js";
import "./chunk-GHZEFXB4.js";
import "./chunk-5G3YEFQP.js";
import "./chunk-76J2PTFD.js";

// node_modules/@arcgis/core/analysis/DimensionSimpleStyle.js
var c3 = class extends u(l2) {
  constructor(o2) {
    super(o2), this.type = "simple", this.color = new h("black"), this.lineSize = 2, this.fontSize = 10, this.textColor = new h("black"), this.textBackgroundColor = new h([255, 255, 255, 0.6]);
  }
};
e([y({ type: ["simple"], readOnly: true, json: { write: { isRequired: true } } })], c3.prototype, "type", void 0), e([y({ type: h, nonNullable: true, json: { type: [T], write: { isRequired: true } } })], c3.prototype, "color", void 0), e([y({ type: Number, cast: o, nonNullable: true, range: { min: e2(1) }, json: { write: { isRequired: true } } })], c3.prototype, "lineSize", void 0), e([y({ type: Number, cast: o, nonNullable: true, json: { write: { isRequired: true } } })], c3.prototype, "fontSize", void 0), e([y({ type: h, nonNullable: true, json: { type: [T], write: { isRequired: true } } })], c3.prototype, "textColor", void 0), e([y({ type: h, nonNullable: true, json: { type: [T], write: { isRequired: true } } })], c3.prototype, "textBackgroundColor", void 0), c3 = e([a2("esri.analysis.DimensionSimpleStyle")], c3);
var a3 = c3;

// node_modules/@arcgis/core/analysis/dimensionUtils.js
var t2;
!function(t3) {
  t3.Horizontal = "horizontal", t3.Vertical = "vertical", t3.Direct = "direct";
}(t2 || (t2 = {}));
var r2 = [t2.Horizontal, t2.Vertical, t2.Direct];

// node_modules/@arcgis/core/analysis/LengthDimension.js
var l3 = class extends u(l2) {
  constructor(o2) {
    super(o2), this.type = "length", this.startPoint = null, this.endPoint = null, this.measureType = t2.Direct, this.offset = 0, this.orientation = 0;
  }
};
e([y({ type: ["length"], json: { write: { isRequired: true } } })], l3.prototype, "type", void 0), e([y({ type: x, json: { write: true } })], l3.prototype, "startPoint", void 0), e([y({ type: x, json: { write: true } })], l3.prototype, "endPoint", void 0), e([y({ type: r2, nonNullable: true, json: { write: { isRequired: true } } })], l3.prototype, "measureType", void 0), e([y({ type: Number, nonNullable: true, json: { write: { isRequired: true } } })], l3.prototype, "offset", void 0), e([y({ type: Number, nonNullable: true, json: { write: { isRequired: true } } }), s((o2) => s2.normalize(a(o2), 0, true))], l3.prototype, "orientation", void 0), l3 = e([a2("esri.analysis.LengthDimension")], l3);
var u2 = l3;

// node_modules/@arcgis/core/analysis/DimensionAnalysis.js
var d = V.ofType(u2);
var y2 = class extends c2 {
  constructor(e3) {
    super(e3), this.type = "dimension", this.style = new a3(), this.extent = null;
  }
  initialize() {
    this.addHandles(l(() => this._computeExtent(), (e3) => {
      null != e3 && null != e3.pending || this._set("extent", null != e3 ? e3.extent : null);
    }, w));
  }
  get dimensions() {
    return this._get("dimensions") || new d();
  }
  set dimensions(e3) {
    this._set("dimensions", n(e3, this.dimensions, d));
  }
  get spatialReference() {
    for (const e3 of this.dimensions) {
      if (null != e3.startPoint)
        return e3.startPoint.spatialReference;
      if (null != e3.endPoint)
        return e3.endPoint.spatialReference;
    }
    return null;
  }
  get requiredPropertiesForEditing() {
    return this.dimensions.reduce((e3, t3) => (e3.push(t3.startPoint, t3.endPoint), e3), []);
  }
  async waitComputeExtent() {
    const e3 = this._computeExtent();
    return null != e3 ? e3.pending : Promise.resolve();
  }
  _computeExtent() {
    const e3 = this.spatialReference;
    if (null == e3)
      return { pending: null, extent: null };
    const t3 = [];
    for (const s3 of this.dimensions)
      null != s3.startPoint && t3.push(s3.startPoint), null != s3.endPoint && t3.push(s3.endPoint);
    const n2 = ln(t3, e3);
    if (null != n2.pending)
      return { pending: n2.pending, extent: null };
    let o2 = null;
    return null != n2.geometries && (o2 = n2.geometries.reduce((e4, t4) => null == e4 ? null != t4 ? M.fromPoint(t4) : null : null != t4 ? e4.union(M.fromPoint(t4)) : e4, null)), { pending: null, extent: o2 };
  }
  clear() {
    this.dimensions.removeAll();
  }
};
e([y({ type: ["dimension"] })], y2.prototype, "type", void 0), e([y({ cast: t, type: d, nonNullable: true })], y2.prototype, "dimensions", null), e([y({ readOnly: true })], y2.prototype, "spatialReference", null), e([y({ types: { key: "type", base: null, typeMap: { simple: a3 } }, nonNullable: true })], y2.prototype, "style", void 0), e([y({ value: null, readOnly: true })], y2.prototype, "extent", void 0), e([y({ readOnly: true })], y2.prototype, "requiredPropertiesForEditing", null), y2 = e([a2("esri.analysis.DimensionAnalysis")], y2);
var f = y2;

// node_modules/@arcgis/core/layers/DimensionLayer.js
var u3 = class extends c(O(b)) {
  constructor(e3) {
    if (super(e3), this.type = "dimension", this.operationalLayerType = "ArcGISDimensionLayer", this.source = new f(), this.opacity = 1, e3) {
      const { source: s3, style: r3 } = e3;
      s3 && r3 && (s3.style = r3);
    }
  }
  initialize() {
    this.addHandles([l(() => this.source, (e3, s3) => {
      null != s3 && s3.parent === this && (s3.parent = null), null != e3 && (e3.parent = this);
    }, w)]);
  }
  async load() {
    return this.addResolvingPromise(this.source.waitComputeExtent()), this;
  }
  get spatialReference() {
    return this.source.spatialReference;
  }
  get style() {
    return this.source.style;
  }
  set style(e3) {
    this.source.style = e3;
  }
  get fullExtent() {
    return this.source.extent;
  }
  releaseAnalysis(e3) {
    this.source === e3 && (this.source = new f());
  }
  get analysis() {
    return this.source;
  }
  set analysis(e3) {
    this.source = e3;
  }
  get dimensions() {
    return this.source.dimensions;
  }
  set dimensions(e3) {
    this.source.dimensions = e3;
  }
  writeDimensions(e3, s3, r3, t3) {
    s3.dimensions = e3.filter(({ startPoint: e4, endPoint: s4 }) => null != e4 && null != s4).map((e4) => e4.toJSON(t3)).toJSON();
  }
};
e([y({ json: { read: false }, readOnly: true })], u3.prototype, "type", void 0), e([y({ type: ["ArcGISDimensionLayer"] })], u3.prototype, "operationalLayerType", void 0), e([y({ nonNullable: true })], u3.prototype, "source", void 0), e([y({ readOnly: true })], u3.prototype, "spatialReference", null), e([y({ types: { key: "type", base: null, typeMap: { simple: a3 } }, json: { write: { ignoreOrigin: true } } })], u3.prototype, "style", null), e([y({ readOnly: true })], u3.prototype, "fullExtent", null), e([y({ readOnly: true, json: { read: false, write: false, origins: { service: { read: false, write: false }, "portal-item": { read: false, write: false }, "web-document": { read: false, write: false } } } })], u3.prototype, "opacity", void 0), e([y({ type: ["show", "hide"] })], u3.prototype, "listMode", void 0), e([y({ type: V.ofType(u2), json: { write: { ignoreOrigin: true }, origins: { "web-scene": { write: { ignoreOrigin: true } } } } })], u3.prototype, "dimensions", null), e([r("web-scene", "dimensions")], u3.prototype, "writeDimensions", null), u3 = e([a2("esri.layers.DimensionLayer")], u3);
var d2 = u3;
export {
  d2 as default
};
//# sourceMappingURL=DimensionLayer-OPDTKCI5.js.map
