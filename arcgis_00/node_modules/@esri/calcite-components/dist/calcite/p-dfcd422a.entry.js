/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.9.2
 */
import{r as i,c as t,h as e,F as s,a}from"./p-778febba.js";import{f as n}from"./p-a57c8684.js";import{c as o,u as r,d as c}from"./p-f73a65a7.js";import{s as l,a as d,c as h}from"./p-9951f997.js";import{c as p,d as m}from"./p-57d4392c.js";import{u,s as b,c as f,d as g}from"./p-8cac1862.js";import{d as v}from"./p-53154413.js";import"./p-8628f7a1.js";import"./p-5b179765.js";import"./p-2de3425a.js";import"./p-78ad96c9.js";import"./p-2be90d66.js";import"./p-fa6eae9b.js";const y=class{constructor(e){i(this,e),this.calciteFilterChange=t(this,"calciteFilterChange",6),this.filterDebounced=v(((i,t=!1,e)=>this.updateFiltered(n(this.items,i),t,e)),250),this.inputHandler=i=>{const t=i.target;this.value=t.value,this.filterDebounced(t.value,!0)},this.keyDownHandler=i=>{"Escape"===i.key&&(this.clear(),i.preventDefault()),"Enter"===i.key&&i.preventDefault()},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(i){this.filterDebounced(i)}effectiveLocaleChange(){u(this,this.effectiveLocale)}async componentWillLoad(){l(this),this.updateFiltered(n(this.items,this.value)),await b(this)}connectedCallback(){o(this),p(this),f(this)}componentDidRender(){r(this)}disconnectedCallback(){c(this),m(this),g(this),this.filterDebounced.cancel()}componentDidLoad(){d(this)}async filter(i=this.value){return new Promise((t=>{this.value=i,this.filterDebounced(i,!1,t)}))}async setFocus(){await h(this),this.el?.focus()}updateFiltered(i,t=!1,e){this.filteredItems=i,t&&this.calciteFilterChange.emit(),e?.()}render(){const{disabled:i,scale:t}=this;return e(s,null,e("div",{class:"container"},e("label",null,e("calcite-input",{"aria-label":this.messages.label,clearable:!0,disabled:i,icon:"search",messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,scale:t,type:"text",value:this.value,ref:i=>{this.textInput=i}}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return a(this)}static get watchers(){return{items:["watchItemsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}};y.style=":host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-ui-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-ui-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-ui-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-ui-text-1)}:host([hidden]){display:none}[hidden]{display:none}";export{y as calcite_filter}